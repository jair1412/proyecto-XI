<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AnimeStream - Ver Anime Online</title>
  <style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: Arial, sans-serif;
  background-color: #0e0e0e;
  color: #fff;
  min-height: 100vh;
  padding: 20px;
}

.container { max-width: 1200px; margin: auto; }

header { text-align: center; margin-bottom: 30px; }
header h1 { font-size: 2.5em; color: #ffcc00; margin-bottom: 10px; }
header p { font-size: 1.1em; opacity: 0.9; }

.info-section {
  background: #1b1b1b;
  border-radius: 20px;
  padding: 25px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.5);
  margin-bottom: 30px;
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  align-items: flex-start;
}

.anime-cover {
  width: 200px;
  border-radius: 15px;
  object-fit: cover;
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

.anime-details { flex: 1; }

.anime-title {
  font-size: 1.8em;
  color: #ffcc00;
  margin-bottom: 10px;
}

.anime-sinopsis {
  line-height: 1.6;
  margin-bottom: 10px;
  text-align: justify;
}

.anime-status span { color: #00b300; font-weight: bold; }

.video-section {
  background: #1b1b1b;
  border-radius: 20px;
  padding: 30px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.5);
  margin-bottom: 30px;
}

.episode-title {
  color: #ffcc00;
  font-size: 1.8em;
  margin-bottom: 20px;
  border-bottom: 3px solid #ffcc00;
  padding-bottom: 10px;
}

.video-wrapper {
  position: relative;
  padding-bottom: 56.25%;
  height: 0;
  overflow: hidden;
  border-radius: 15px;
  background: #000;
  margin-bottom: 20px;
}

.video-wrapper iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border: none;
}

/* Controles */
.controls-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
}

.controls {
  display: flex;
  justify-content: center;
  gap: 15px;
  flex-wrap: nowrap;
  align-items: center;
}

.btn {
  background-color: #ffcc00;
  color: #000;
  border: none;
  padding: 12px 25px;
  border-radius: 50px;
  font-size: 1.1em;
  cursor: pointer;
  transition: all 0.3s ease;
}

.btn:hover {
  background-color: #000;
  color: #ffcc00;
}

/* Bot√≥n Episodios */
.episodios-dropdown {
  position: relative; /* contenedor del bot√≥n */
  display: inline-block;
}

.episodios-list {
  position: absolute;
  top: 100%; /* justo debajo del bot√≥n */
  left: 50%;
  transform: translateX(-50%);
  background-color: #1b1b1b;
  border-radius: 12px;
  overflow: hidden;
  max-height: 0;
  opacity: 0;
  transition: max-height 0.4s ease, opacity 0.4s ease;
  box-shadow: 0 8px 20px rgba(0,0,0,0.5);
  z-index: 10;
  width: max-content; /* se ajusta al contenido */
  min-width: 90px;   /* ancho m√≠nimo */
}

/* Cuando se muestra la lista */
.episodios-list.show {
  max-height: 500px; /* suficiente para todos los episodios */
  opacity: 1;
}

/* Animaci√≥n ‚Äúslide-down‚Äù */
.episodios-list button {
  display: block;
  width: 100%;
  padding: 10px 15px;
  border: none;
  background-color: #2b2b2b;
  color: #fff;
  text-align: left;
  cursor: pointer;
  transition: background 0.3s, transform 0.3s ease;
}

.episodios-list button:hover {
  background-color: #ffcc00;
  color: #000;
}

/* Ajustes responsive */
@media (max-width: 768px) {
  .controls-container {
    flex-direction: column;
    align-items: center;
    gap: 10px;
  }
  .controls {
    flex-wrap: nowrap;
    gap: 8px;
  }
  .btn {
    padding: 10px 18px;
    font-size: 1em;
  }
  .info-section {
    flex-direction: column;
    text-align: center;
  }
  .anime-cover { width: 70%; margin: 0 auto; }
}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>üé¨ AnimeStream</h1>
      <p>Disfruta de tus animes favoritos en HD</p>
    </header>

    <div class="info-section">
      <img id="portada" src="" alt="Portada del anime" class="anime-cover">
      <div class="anime-details">
        <h2 class="anime-title" id="tituloAnime"></h2>
        <p class="anime-sinopsis" id="descripcionAnime"></p>
        <p class="anime-status">Estado: <span id="estadoAnime"></span></p>
      </div>
    </div>

    <div class="video-section">
      <h2 class="episode-title" id="tituloEp">üì∫ Episodio</h2>
      <div class="video-wrapper">
        <iframe id="videoFrame" allowfullscreen 
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture">
        </iframe>
      </div>

      <div class="controls-container">
        <div class="controls">
          <button class="btn" id="anterior">‚¨ÖÔ∏è Anterior</button>
          
          <div class="episodios-dropdown"> <!-- contenedor relativo -->
          <button class="btn" id="btnEpisodios">üìÑ Episodios</button>
          <div class="episodios-list" id="listaEpisodios"></div>
        </div>
          <button class="btn" id="siguiente">‚û°Ô∏è Siguiente</button>
      </div>
    </div>
  </div>

  <script>
const params = new URLSearchParams(window.location.search);
const cap = parseInt(params.get("cap")) || 1;
const anime = params.get("anime") || "tomodachi";
let actual = cap - 1;

// Datos de cada anime
const animes = {
  tomodachi: {
    titulo: "Tomodachi no Imouto ga Ore ni dake Uzai",
    sinopsis: " ¬°Si una chica te molesta, eso significa que le gustas! Desafortunadamente, Akiteru sabe por experiencia que no es as√≠. Porque cada chica con la que interact√∫a solo le muestra desprecio, ¬°y no ha conseguido salir con ninguna! Afortunadamente, le preocupa m√°s conseguir un lugar para √©l y sus amigos de desarrollo de juegos en el negocio de su t√≠o. Pero cuando su t√≠o le impone una condici√≥n que implica hacer el papel de novio de su hija, Akiteru no tiene m√°s remedio que aceptarlo. ¬øQu√© pensar√° Iroha, la hermana de su mejor amigo, que lo acosa sin parar, sobre la noticia?",
    estado: "üü¢ En emisi√≥n",
    portada: "img/portada-tomodachi.jpg",
    episodios: [
      "https://hglink.to/e/zw27e3ujkceb",
      "https://hglink.to/e/bkkegvtpbx4z",
      "https://hglink.to/e/arqezhrhuz59",
      "https://hglink.to/e/b9md60ijbay1",
    ]
  },
  sawaranaide: {
    titulo: "Sawaranaide Kotesashi-kun",
    sinopsis: "Kouyou Kotesashi posee habilidades excepcionales en masaje y sue√±a con convertirse en m√©dico deportivo. Para asegurarse una beca para la escuela de medicina, se inscribe en la Escuela Secundaria Afiliada a la Universidad Seiwa, una potencia en atletismo. Proveniente de una familia pobre, Kouyou acepta un trabajo como residente en el dormitorio de la escuela para cubrir sus gastos. Sin embargo, pronto se encuentra rodeado de un grupo de atletas femeninas altamente talentosas pero peculiares. ¬øSu papel? Administrar el dormitorio mientras tambi√©n se encarga de su bienestar f√≠sico y mental. Con una mezcla de entrenamiento intenso, la vida en el dormitorio y la terapia de masaje, ¬°comienza un nuevo cap√≠tulo impredecible y atrevido!",
    estado: "üü¢ En emisi√≥n",
    portada: "img/portada-sawaranaide.jpg",
    episodios: [
      "https://hglink.to/e/6id58vkshudm",
      "https://hglink.to/e/afumweg1mvgg",
      "https://hglink.to/e/kekpyhyz03fc",
      "https://hglink.to/e/7oru7a7td4pv",
    ]
  },
  ansatsusha: {
    titulo: "Ansatsusha de Aru Ore no Status ga Yuusha yori mo Akiraka ni Tsuyoi no da ga",
    sinopsis: "Oda Akira es el tipo de persona que la gente olvida que est√° presente. Sin embargo, su naturaleza discreta tiene sus beneficios cuando toda su clase es transportada a un mundo de fantas√≠a, y √©l se adapta f√°cilmente a su nuevo rol como un asesino silencioso. Con sus sospechosamente altas estad√≠sticas iniciales y demasiados detalles que no encajan, Akira est√° seguro de que algo no anda bien. Pero indagar en secretos reales es un juego peligroso, y cuando Akira descubre un plan maligno, tambi√©n se hace un poderoso enemigo: ¬°el mismo rey que lo trajo a este mundo! Con la ayuda de la medium elfa Amelia, ¬øpodr√° encontrar el poder para poner las cosas en su lugar y vengarse?",
    estado: "üü¢ En emisi√≥n",
    portada: "img/portada-ansatsusha.jpg",
    episodios: [
      "https://hglink.to/e/iulctvccj14a",  
      "https://hglink.to/e/4jbqy4ee3d6k",
      "https://hglink.to/e/6wndeetegjsq",
      "https://hglink.to/e/1eoexfx3xr3s",
    ]
  },
  sozai: {
      titulo: "Sozai Saishuka no Isekai Ryokouki",
      sinopsis: "Takeru Kamishiro es un chico normal con un trabajo de oficina ordinario, pero se encuentra siendo convocado a otro mundo. Takeru comienza su nueva vida en Madeus, un mundo con espadas y magia, ¬°completamente equipado con m√∫ltiples habilidades! No solo tiene habilidades f√≠sicas mejoradas y asombrosos poderes m√°gicos, sino tambi√©n el poder de "buscar" objetos valiosos. Con las habilidades trampa que le han sido otorgadas, Takeru inicia su nueva aventura en este nuevo isekai.",
      estado: "üü¢ En emisi√≥n",
      portada: "img/portada-sozai.jpg",
      episodios: [
    "https://hglink.to/e/aias2ueo18a7",
    "https://hglink.to/e/gb2jdv7voejj",
    "https://hglink.to/e/gv290ng3dr08",
    "https://hglink.to/e/j43uriptz8bg",
    "https://hglink.to/e/ywzoboy6biso",
     ]
    },
  tondemo: {
      titulo: "Tondemo Skill de Isekai Hourou Meshi Season 2",
      sinopsis: "Segunda temporada de Tondemo Skill de Isekai Hourou Meshi.",
      estado: "üü¢ En emisi√≥n",
      portada: "img/portada-tondemo.jpg",
      episodios: [
    "https://hglink.to/e/1jjeylontqe4",
    "https://hglink.to/e/bviz9y84acp8",
    "https://hglink.to/e/5d3hrgdsxrog",
    "https://hglink.to/e/e5juy7san5x4",
    " ",
     ]
    },
    chitose: {
      titulo: "Chitose-kun wa Ramune Bin no Naka",
      sinopsis: "Los insultos dirigidos a Saku Chitose son pan de cada d√≠a. Apodado < el mujeriego sinverg√ºenza de la Clase 5 >, es constantemente difamado en l√≠nea por aquellos que sienten celos de su popularidad. Afortunadamente, esto apenas afecta la confianza de Saku. Fuera de los foros de internet de nicho, es la figura respetable que sus compa√±eros admiran y un estudiante modelo en quien sus profesores conf√≠an. Con el inicio de su segundo a√±o de preparatoria, Saku se re√∫ne con sus viejos amigos y hace nuevos, todos pertenecientes a la √©lite social de la escuela. Sin embargo, la diversi√≥n se ve interrumpida cuando el profesor tutor de Saku le pide que convenza a su compa√±ero de clase recluso, Kenta Yamazaki, para que regrese a la escuela. Deseando resolver las cosas r√°pidamente, Saku visita la casa de Kenta al d√≠a siguiente. Pero la tarea resulta ser m√°s desafiante de lo que esperaba cuando descubre que Kenta est√° completamente en contra de Saku. Si quiere preservar su impecable imagen, Saku debe encontrar la manera de ganarse a Kenta y llevarlo de vuelta a la escuela.",
      estado: "üü¢ En emisi√≥n",
      portada: "img/portada-chitose-kun.jpg",
      episodios: [
        "https://hglink.to/e/35oi65nemey6",
        "https://hglink.to/e/2ktg9g2zzh4e",
        "https://hglink.to/e/uanx3gyg6bw5",
        "https://hglink.to/e/kg2sps5ciq23",
        " ",
        ]
    }
};

// Comprueba si el anime existe
if (!animes[anime]) {
  document.body.innerHTML = "<h1 style='color:red;text-align:center;'>‚ùå Anime no encontrado</h1>";
  throw new Error("Anime no encontrado");
}

// Asigna datos din√°micamente
const info = animes[anime];
document.querySelector(".anime-cover").src = info.portada;
document.querySelector(".anime-title").textContent = info.titulo;
document.querySelector(".anime-sinopsis").textContent = info.sinopsis;
document.querySelector(".anime-status span").textContent = info.estado;

const frame = document.getElementById("videoFrame");
const tituloEp = document.getElementById("tituloEp");
const episodios = info.episodios;

function cambiarEpisodio() {
  frame.src = episodios[actual];
  tituloEp.textContent = `üì∫ ${info.titulo} - Episodio ${actual + 1}`;
}

cambiarEpisodio();

document.getElementById("anterior").onclick = () => {
  if (actual > 0) {
    actual--;
    cambiarEpisodio();
  } else {
    alert("Este es el primer episodio");
  }
};

document.getElementById("siguiente").onclick = () => {
  if (actual < episodios.length - 1) {
    actual++;
    cambiarEpisodio();
  } else {
    alert("No hay m√°s episodios");
  }
};

// Bot√≥n de episodios
const btnEpisodios = document.getElementById("btnEpisodios");
const listaEpisodios = document.getElementById("listaEpisodios");

// Genera los botones de episodios
episodios.forEach((url, index) => {
  const epBtn = document.createElement("button");
  epBtn.textContent = `Episodio ${index + 1}`;
  epBtn.onclick = () => {
    actual = index;
    cambiarEpisodio();
    listaEpisodios.classList.remove("show");
  };
  listaEpisodios.appendChild(epBtn);
});

// Toggle de la lista al hacer clic en el bot√≥n
btnEpisodios.onclick = () => {
  listaEpisodios.classList.toggle("show");
};

    // Cerrar la lista si se hace clic fuera
document.addEventListener("click", (e) => {
  if (!btnEpisodios.contains(e.target) && !listaEpisodios.contains(e.target)) {
    listaEpisodios.classList.remove("show");
  }
});

  </script>
</body>
</html>







